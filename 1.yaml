port: 0
socks-port: 0
mixed-port: 0
allow-lan: false
mode: rule
log-level: info
external-controller: 127.0.0.1:9090

dns:
  enable: true
  listen: 0.0.0.0:1053
  enhanced-mode: fake-ip
  nameserver:
    - https://1.1.1.1/dns-query
    - https://8.8.8.8/dns-query
  fallback:
    - https://9.9.9.9/dns-query
  default-nameserver:
    - 1.1.1.1
    - 8.8.8.8

# 三个本地端口
inbounds:
  - name: groupA-in
    type: mixed
    listen: 127.0.0.1
    port: 8891
    sniff: true
  - name: groupB-in
    type: mixed
    listen: 127.0.0.1
    port: 8892
    sniff: true
  - name: groupC-in
    type: mixed
    listen: 127.0.0.1
    port: 8893
    sniff: true

# 节点
proxies:
  # --- GroupA 香港 (7个) ---
  - { name: 香港-IPLC-HK-1, type: trojan, server: iplc-hk-1.trojanwheel.com, port: 465, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 香港-IPLC-HK-2, type: trojan, server: iplc-hk-2.trojanwheel.com, port: 465, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 香港-IPLC-HK-3, type: trojan, server: iplc-hk-3.trojanwheel.com, port: 465, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 香港-IPLC-HK-4, type: trojan, server: iplc-hk-4.trojanwheel.com, port: 465, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 香港-FW-HK-V6-1, type: trojan, server: fw-hk-v6-1.trojanwheel.com, port: 5001, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 香港-FW-HK-V6-2, type: trojan, server: fw-hk-v6-2.trojanwheel.com, port: 5002, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 香港-FW-HK-V6-3, type: trojan, server: fw-hk-v6-3.trojanwheel.com, port: 5003, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }

  # --- GroupB 香港 (7个) ---
  - { name: 香港-FW-HK-V6-4, type: trojan, server: fw-hk-v6-4.trojanwheel.com, port: 5004, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 香港-FW-HK-V6-5, type: trojan, server: fw-hk-v6-5.trojanwheel.com, port: 5005, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 香港-FW-HK-V6-6, type: trojan, server: fw-hk-v6-6.trojanwheel.com, port: 5006, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 香港-FW-HK-V6-7, type: trojan, server: fw-hk-v6-7.trojanwheel.com, port: 5007, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 香港-FW-HK-V6-8, type: trojan, server: fw-hk-v6-8.trojanwheel.com, port: 5008, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 香港-FW-HK-V6-9, type: trojan, server: fw-hk-v6-9.trojanwheel.com, port: 5009, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 香港-FW-HK-V6-10, type: trojan, server: fw-hk-v6-10.trojanwheel.com, port: 5010, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }

  # --- GroupC 日本 (7个) ---
  - { name: 日本-FW-JP-TEST1, type: trojan, server: fw-jp-test1.trojanwheel.com, port: 5011, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 日本-FW-JP-TEST2, type: trojan, server: fw-jp-test2.trojanwheel.com, port: 5012, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 日本-FW-JP1, type: trojan, server: fw-jp1.rise-fuji.com, port: 5011, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 日本-FW-JP2, type: trojan, server: fw-jp2.rise-fuji.com, port: 5012, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 日本-FW-JP3, type: trojan, server: fw-jp3.rise-fuji.com, port: 5013, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 日本-FW-JP4, type: trojan, server: fw-jp4.rise-fuji.com, port: 5014, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }
  - { name: 日本-FW-JP5, type: trojan, server: fw-jp5.rise-fuji.com, port: 5015, password: iYYNaaloqEpUl2rDAW, alpn: ["h2","http/1.1"], skip-cert-verify: true }

# 三个代理组
roxy-groups:
  - name: GroupA
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 300
    tolerance: 50
    proxies: [香港-IPLC-HK-1, 香港-IPLC-HK-2, 香港-IPLC-HK-3, 香港-IPLC-HK-4, 香港-FW-HK-V6-1, 香港-FW-HK-V6-2, 香港-FW-HK-V6-3]

  - name: GroupB
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 300
    tolerance: 50
    proxies: [香港-FW-HK-V6-4, 香港-FW-HK-V6-5, 香港-FW-HK-V6-6, 香港-FW-HK-V6-7, 香港-FW-HK-V6-8, 香港-FW-HK-V6-9, 香港-FW-HK-V6-10]

  - name: GroupC
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 300
    tolerance: 50
    proxies: [日本-FW-JP-TEST1, 日本-FW-JP-TEST2, 日本-FW-JP1, 日本-FW-JP2, 日本-FW-JP3, 日本-FW-JP4, 日本-FW-JP5]

  - name: DIRECT
    type: select
    proxies: [DIRECT]

# 路由规则：按端口分流
rules:
  - INBOUND,groupA-in,GroupA
  - INBOUND,groupB-in,GroupB
  - INBOUND,groupC-in,GroupC
  - MATCH,DIRECT
